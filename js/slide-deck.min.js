function SlideDeck(n){this.curSlide_=0;this.prevSlide_=0;this.config_=null;this.container=n||document.querySelector("slides");this.slides=[];this.getCurrentSlideFromHash_();this.onDomLoaded_.bind(this)()}document.cancelFullScreen=document.webkitCancelFullScreen||document.mozCancelFullScreen;SlideDeck.prototype.SLIDE_CLASSES_=["far-past","past","current","next","far-next"];SlideDeck.prototype.CSS_DIR_="theme/css/";SlideDeck.prototype.getCurrentSlideFromHash_=function(){var n=parseInt(document.location.hash.substr(1));this.curSlide_=n?n-1:0};SlideDeck.prototype.loadSlide=function(n){n&&(this.curSlide_=n-1,this.updateSlides_())};SlideDeck.prototype.onDomLoaded_=function(){var i,n,t;for(document.body.classList.add("loaded"),this.slides=this.container.querySelectorAll("slide:not([hidden]):not(.backdrop)"),Modernizr.mq("only screen and (max-device-width: 480px)")&&this.container.classList.remove("layout-widescreen"),this.loadConfig_(SLIDE_CONFIG),this.addEventListeners_(),this.updateSlides_(),i=this,n=0;t=this.slides[n];++n)t.dataset.slideNum=n+1,t.dataset.totalSlides=this.slides.length,t.addEventListener("click",function(n){document.body.classList.contains("overview")&&(i.loadSlide(this.dataset.slideNum),n.preventDefault(),window.setTimeout(function(){i.toggleOverview()},500))},!1)};SlideDeck.prototype.addEventListeners_=function(){document.addEventListener("keydown",this.onBodyKeyDown_.bind(this),!1);window.addEventListener("popstate",this.onPopState_.bind(this),!1)};SlideDeck.prototype.onPopState_=function(n){n.state!=null&&(this.curSlide_=n.state,this.updateSlides_(!0))};SlideDeck.prototype.onBodyKeyDown_=function(n){if(!/^(input|textarea)$/i.test(n.target.nodeName)&&!n.target.isContentEditable)switch(n.keyCode){case 13:document.body.classList.contains("overview")&&this.toggleOverview();break;case 39:case 32:case 34:this.nextSlide();n.preventDefault();break;case 37:case 8:case 33:this.prevSlide();n.preventDefault();break;case 40:this.nextSlide();n.preventDefault();break;case 38:this.prevSlide();n.preventDefault();break;case 72:document.body.classList.toggle("highlight-code");break;case 79:this.toggleOverview();break;case 27:document.body.classList.remove("with-notes");document.body.classList.remove("highlight-code");document.body.classList.contains("overview")&&this.toggleOverview();break;case 70:n.target!=document.body||n.shiftKey&&n.metaKey||(document.mozFullScreen===undefined||document.mozFullScreen?document.webkitIsFullScreen===undefined||document.webkitIsFullScreen?document.cancelFullScreen():document.body.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.body.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT));break;case 87:n.target!=document.body||n.shiftKey&&n.metaKey||this.container.classList.toggle("layout-widescreen")}};SlideDeck.prototype.focusOverview_=function(){for(var i=document.body.classList.contains("overview"),n=0,t;t=this.slides[n];n++)t.style[Modernizr.prefixed("transform")]=i?"translateZ(-2500px) translate("+(n-this.curSlide_)*105+"%, 0%)":""};SlideDeck.prototype.toggleOverview=function(){document.body.classList.toggle("overview");this.focusOverview_()};SlideDeck.prototype.loadConfig_=function(n){var t,o,i,h,r,s,c;if(n){if(this.config_=n,t=this.config_.settings,this.loadTheme_(t.theme||[]),t.favIcon&&this.addFavIcon_(t.favIcon),(!!!("usePrettify"in t)||t.usePrettify)&&prettyPrint(),t.analytics&&this.loadAnalytics_(),t.fonts&&this.addFonts_(t.fonts),(!!!("useBuilds"in t)||t.useBuilds)&&this.makeBuildLists_(),t.title&&(document.title=t.title.replace(/<br\/?>/," "),document.querySelector("[data-config-title]").innerHTML=t.title),t.subtitle&&(document.querySelector("[data-config-subtitle]").innerHTML=t.subtitle),this.config_.presenters){var e=this.config_.presenters,f=document.querySelector("[data-config-contact]"),u=[];if(e.length==1){i=e[0];u=[i.name,i.company].join("<br>");var l=i.gplus?'<span>g+<\/span><a href="'+i.gplus+'">'+i.gplus.replace(/https?:\/\//,"")+"<\/a>":"",a=i.twitter?'<span>twitter<\/span><a href="http://twitter.com/'+i.twitter+'">'+i.twitter+"<\/a>":"",v=i.www?'<span>www<\/span><a href="'+i.www+'">'+i.www.replace(/https?:\/\//,"")+"<\/a>":"",y=i.github?'<span>github<\/span><a href="'+i.github+'">'+i.github.replace(/https?:\/\//,"")+"<\/a>":"",p=[l,a,v,y].join("<br>");f&&(f.innerHTML=p)}else{for(o=0;i=e[o];++o)u.push(i.name+" - "+i.company);u=u.join("<br>");f&&(f.innerHTML=u)}h=document.querySelector("[data-config-presenter]");h&&(document.querySelector("[data-config-presenter]").innerHTML=u)}(!!!("enableSlideAreas"in t)||t.enableSlideAreas)&&(r=document.createElement("div"),r.classList.add("slide-area"),r.id="prev-slide-area",r.addEventListener("click",this.prevSlide.bind(this),!1),this.container.appendChild(r),r=document.createElement("div"),r.classList.add("slide-area"),r.id="next-slide-area",r.addEventListener("click",this.nextSlide.bind(this),!1),this.container.appendChild(r));Modernizr.touch&&(!!!("enableTouch"in t)||t.enableTouch)&&(s=this,window.addEventListener("touchstart",function(n){n.preventDefault()},!1),c=new Hammer(this.container),c.ondragend=function(n){n.direction=="right"||n.direction=="down"?s.prevSlide():(n.direction=="left"||n.direction=="up")&&s.nextSlide()})}};SlideDeck.prototype.addFonts_=function(n){var t=document.createElement("link");t.rel="stylesheet";t.href=("https:"==document.location.protocol?"https":"http")+"://fonts.googleapis.com/css?family="+n.join("|")+"&v2";document.querySelector("head").appendChild(t)};SlideDeck.prototype.buildNextItem_=function(){var t=this.slides[this.curSlide_],i=t.querySelector(".to-build"),n=t.querySelector(".build-current"),u,r,f;if(n&&(n.classList.remove("build-current"),n.classList.contains("fade")&&n.classList.add("build-fade")),!i){for(u=t.querySelectorAll(".build-fade"),r=0;f=u[r];r++)f.classList.remove("build-fade");return!1}return i.classList.remove("to-build"),i.classList.add("build-current"),!0};SlideDeck.prototype.prevSlide=function(n){if(this.curSlide_>0){var t=document.body.classList;t.remove("highlight-code");this.prevSlide_=this.curSlide_--;this.updateSlides_(n)}};SlideDeck.prototype.nextSlide=function(n){if((document.body.classList.contains("overview")||!this.buildNextItem_())&&this.curSlide_<this.slides.length-1){var t=document.body.classList;t.remove("highlight-code");this.prevSlide_=this.curSlide_++;this.updateSlides_(n)}};SlideDeck.prototype.triggerSlideEvent=function(n,t){var i=this.getSlideEl_(t),u,r;i&&(u=i.getAttribute(n),u&&new Function(u).call(i),r=document.createEvent("Event"),r.initEvent(n,!0,!0),r.slideNumber=t+1,r.slide=i,i.dispatchEvent(r))};SlideDeck.prototype.updateSlides_=function(n){for(var r=n||!1,i=this.curSlide_,t=0;t<this.slides.length;++t)switch(t){case i-2:this.updateSlideClass_(t,"far-past");break;case i-1:this.updateSlideClass_(t,"past");break;case i:this.updateSlideClass_(t,"current");break;case i+1:this.updateSlideClass_(t,"next");break;case i+2:this.updateSlideClass_(t,"far-next");break;default:this.updateSlideClass_(t)}if(this.triggerSlideEvent("slideleave",this.prevSlide_),this.triggerSlideEvent("slideenter",i),this.enableSlideFrames_(i+1),window.setTimeout(this.enableSlideFrames_.bind(this,i+2),1e3),this.updateHash_(r),document.body.classList.contains("overview")){this.focusOverview_();return}};SlideDeck.prototype.enableSlideFrames_=function(n){var i=this.slides[n-1],r,t,u;if(i)for(r=i.querySelectorAll("iframe"),t=0;u=r[t];t++)this.enableFrame_(u)};SlideDeck.prototype.enableFrame_=function(n){var t=n.dataset.src;t&&n.src!=t&&(n.src=t)};SlideDeck.prototype.disableSlideFrames_=function(n){var i=this.slides[n-1],r,t,u;if(i)for(r=i.querySelectorAll("iframe"),t=0;u=r[t];t++)this.disableFrame_(u)};SlideDeck.prototype.disableFrame_=function(n){n.src="about:blank"};SlideDeck.prototype.getSlideEl_=function(n){return n<0||n>=this.slides.length?null:this.slides[n]};SlideDeck.prototype.updateSlideClass_=function(n,t){var i=this.getSlideEl_(n),r,u;if(i)for(t&&i.classList.add(t),r=0;u=this.SLIDE_CLASSES_[r];++r)t!=u&&i.classList.remove(u)};SlideDeck.prototype.makeBuildLists_=function(){for(var r,u,i,n,t=this.curSlide_;r=this.slides[t];++t)for(u=r.querySelectorAll(".build > *"),i=0;n=u[i];++i)n.classList&&(n.classList.add("to-build"),n.parentNode.classList.contains("fade")&&n.classList.add("fade"))};SlideDeck.prototype.updateHash_=function(n){if(!n){var t=this.curSlide_+1,i="#"+t;window.history.pushState?window.history.pushState(this.curSlide_,"Slide "+t,i):window.location.replace(i);window._gaq&&window._gaq.push(["_trackPageview",document.location.href])}};SlideDeck.prototype.addFavIcon_=function(n){var t=document.createElement("link");t.rel="icon";t.type="image/png";t.href=n;document.querySelector("head").appendChild(t)};SlideDeck.prototype.loadTheme_=function(n){var i=[],r,t;for(n.constructor.name==="String"?i.push(n):i=n,r=0;themeUrl=i[r];r++)t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href=themeUrl.indexOf("http")==-1?this.CSS_DIR_+themeUrl+".css":themeUrl,document.querySelector("head").appendChild(t)};SlideDeck.prototype.loadAnalytics_=function(){var n=window._gaq||[];n.push(["_setAccount",this.config_.settings.analytics]);n.push(["_trackPageview"]),function(){var n=document.createElement("script"),t;n.type="text/javascript";n.async=!0;n.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()},function(){Modernizr.load({test:!!document.body.classList&&!!document.body.dataset,nope:["js/polyfills/classList.min.js","js/polyfills/dataset.min.js"],complete:function(){window.slidedeck=new SlideDeck}})}();
/*
//# sourceMappingURL=slide-deck.min.js.map
*/